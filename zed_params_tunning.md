제공해주신 파라미터들은 카메라의 **"눈(Sensor)"**이 빛을 어떻게 받아들이고, 어떻게 **"화장(ISP)"**해서 내보낼지를 결정하는 핵심 설정들입니다.

로봇의 **"점프하는 고스트 현상(매칭 실패)"**과 직결되는 아주 중요한 파라미터들이 포함되어 있습니다. 직관적으로 이해하시기 쉽게 **[개념]**, **[직관적 의미]**, **[조절 시 변화]** 순서로 설명해 드릴게요.

---

### 1. ZED X 전용 설정 (`zedx.yaml`)
이곳의 설정은 **하드웨어(센서) 레벨**의 정밀한 제어입니다. 가장 중요합니다.

#### **1) `exposure_time` (노출 시간)**
* **직관적 의미:** 카메라의 눈꺼풀을 얼마나 오래 열고 있을지 결정합니다. (단위: 마이크로초, $\mu s$)
* **설명:** 16000이면 16ms(0.016초) 동안 빛을 받습니다.
* **변화:**
    * **⬆️ 높이면:** 이미지가 **밝아집니다**. 하지만 로봇이 움직일 때 **잔상(Motion Blur)**이 심해져서 **Depth 매칭이 실패**하고 벽이 튀어나옵니다.
    * **⬇️ 낮추면:** 이미지가 **어두워집니다**. 대신 움직임이 아주 **선명(Crisp)**해져서 고스트 현상이 사라집니다. (어두워진 건 Gain으로 보상해야 함)
    * 

#### **2) `auto_exposure_time_range_min / max`**
* **직관적 의미:** 자동 노출(`auto_exposure_gain: true`)을 쓸 때, AI에게 허용된 "최소/최대 셔터 속도 범위"입니다.
* **변화:**
    * `max`를 **줄이면:** 아무리 어두워도 셔터를 길게 열지 못하게 막습니다. → **모션 블러 방지용 안전장치**.

#### **3) `analog_gain` (아날로그 게인)**
* **직관적 의미:** 센서가 받은 빛 신호를 전기적으로 "뻥튀기" 하는 정도입니다. (단위: mdB)
* **설명:** 스피커 볼륨을 올리는 것과 같습니다. `exposure_time`을 줄여서 어두워진 화면을 이걸로 다시 밝게 만듭니다.
* **변화:**
    * **⬆️ 높이면:** 화면이 **밝아집니다**. 하지만 **자글자글한 노이즈(Grain)**가 조금씩 생깁니다. (그래도 Digital Gain보다는 훨씬 깨끗합니다.)
    * **⬇️ 낮추면:** 화면이 깨끗하지만 **어둡습니다**.

#### **4) `digital_gain` (디지털 게인)**
* **직관적 의미:** 이미 찍힌 사진을 소프트웨어적으로 밝게 보정하는 것입니다. (포토샵 밝기 조절과 동일)
* **설명:** 아날로그 게인으로도 부족할 때 쓰는 "최후의 수단"입니다.
* **변화:**
    * **⬆️ 높이면:** 밝아지지만, 화질이 급격히 나빠지고 **노이즈가 매우 심해집니다**.
    * **추천:** 가능한 **1(사용 안 함)**로 두는 것이 좋습니다.

#### **5) `exposure_compensation` (노출 보정)**
* **직관적 의미:** 자동 노출이 맞춘 밝기보다 "조금 더 밝게/어둡게" 찍으라고 지시하는 바이어스(Bias)입니다.
* **설명:** 50이 "딱 중간(0)"입니다.
* **변화:**
    * **⬆️ 50보다 높이면:** 자동 노출 결과보다 더 **밝게(Over-expose)** 찍습니다.
    * **⬇️ 50보다 낮추면:** 자동 노출 결과보다 더 **어둡게(Under-expose)** 찍습니다.

#### **6) `denoising` (노이즈 제거)**
* **직관적 의미:** 피부 잡티 제거 필터와 같습니다. 자글자글한 노이즈를 뭉개서 부드럽게 만듭니다.
* **변화:**
    * **⬆️ 높이면:** 화면이 매끈해지지만, **디테일이 뭉개집니다(수채화 현상)**. 너무 높으면 특징점이 사라져 Depth 계산이 안 될 수 있습니다.
    * **⬇️ 낮추면:** 선명하지만 노이즈가 그대로 보입니다.

---

### 2. 공통 스테레오 설정 (`common_stereo.yaml`)
이곳은 주로 **이미지의 색감과 느낌(ISP)**을 다룹니다.

#### **1) `saturation` (채도)**
* **직관적 의미:** 색깔의 "진하기"입니다.
* **변화:**
    * **⬆️ 높이면:** 색이 아주 **진하고 화려해집니다(Vivid)**.
    * **⬇️ 낮추면:** 색이 빠져서 **흑백(Grayscale)**에 가까워집니다.
    * **팁:** 로봇 비전에서는 보통 **4** (기본값) 정도가 적당합니다. 너무 높으면 색 번짐이 생깁니다.

#### **2) `sharpness` (선명도)**
* **직관적 의미:** 물체의 테두리(Edge)를 얼마나 날카롭게 할지 결정합니다.
* **변화:**
    * **⬆️ 높이면:** 물체 윤곽이 뚜렷해집니다. 특징점이 잘 잡혀 Depth에 도움이 될 수 있지만, 과하면 테두리에 **하얀 띠(Halo effect)**가 생겨 노이즈가 됩니다.
    * **⬇️ 낮추면:** 이미지가 **흐릿(Soft)**해집니다.

#### **3) `gamma` (감마)**
* **직관적 의미:** 중간 밝기(Mid-tone) 영역의 밝기 조절입니다. (어두운 곳을 밝게 볼지 결정)
* **변화:**
    * **⬆️ 높이면:** 그림자(Shadow) 부분이 밝아져서 **어두운 곳이 잘 보입니다**. (대신 전체적으로 뿌옇게 보일 수 있음)
    * **⬇️ 낮추면:** 대비(Contrast)가 강해지고 그림자가 더 어둡게 묻힙니다.

#### **4) `auto_exposure_gain` (자동 노출/게인)**
* **직관적 의미:** 카메라가 알아서 밝기를 조절할지(Auto), 내가 시키는 대로 할지(Manual) 결정합니다.
* **변화:**
    * **True:** 밝은 곳, 어두운 곳을 로봇이 이동할 때 화면 밝기를 일정하게 유지하려고 노력합니다. (단점: 밝기가 변하는 순간 Depth가 튐)
    * **False:** 사용자가 설정한 `exposure`와 `gain` 값으로 고정됩니다. **조명이 일정한 실내 주행에서는 False가 훨씬 안정적입니다.**

#### **5) `whitebalance_temperature` (색온도)**
* **직관적 의미:** 화면의 "색감"을 따뜻하게 할지 차갑게 할지 결정합니다.
* **변화:**
    * **⬆️ 높이면(6500 쪽):** 화면이 **붉그스름(Warm/Orange)**해집니다.
    * **⬇️ 낮추면(2800 쪽):** 화면이 **파르스름(Cool/Blue)**해집니다.
    * **팁:** 형광등 아래에서 화면이 너무 파랗거나 노랗게 보이면 이 값을 조절해서 "흰색이 흰색으로 보이게" 맞춥니다.

---

### 💡 [요약] 사용자님의 "점프 현상" 해결을 위한 튜닝 가이드

로봇 회전 시 장애물이 튀어나오는 문제를 잡으려면 **`zedx.yaml`**의 다음 3가지 파라미터가 핵심입니다.

1.  **`exposure_time` (가장 중요):**
    * 현재 `16000`(16ms) → **`8000` (8ms)** 이하로 과감히 줄이세요.
    * **효과:** 모션 블러가 사라져 회전 시에도 "칼 같은" 이미지를 얻어 Depth가 튀지 않습니다.
2.  **`analog_gain`:**
    * Exposure를 줄여서 어두워진 화면을 다시 밝혀야 합니다.
    * 현재 `1255` → **`2500` ~ `3000`** 정도로 올리세요.
    * **효과:** 화면 밝기 회복. 노이즈가 약간 늘지만 모션 블러보다는 훨씬 낫습니다.
3.  **`auto_exposure_time_range_max`:**
    * 혹시 `auto_exposure_gain: true`를 쓰신다면, 이 값을 **`10000`** 정도로 제한하세요.
    * **효과:** 카메라가 어두운 곳을 봤을 때 셔터 속도를 맘대로 늘려서 블러를 만드는 것을 원천 봉쇄합니다.
